(function(t){function e(e){for(var s,i,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1f56":function(t,e,a){"use strict";a("35ba")},"2cda":function(t,e,a){"use strict";a("fd06")},"35ba":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],i={name:"app"},r=i,l=a("2877"),c=Object(l["a"])(r,o,n,!1,null,null,null),u=c.exports,d=a("8c4f"),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("el-container",[e("el-header",[e("Header")],1),e("el-main",[e("router-view")],1)],1)],1)},h=[],f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("el-menu",{staticClass:"menu-body",attrs:{"default-active":t.activeIndex,mode:"horizontal",router:""},on:{select:t.handleSelect}},[e("el-menu-item",{staticClass:"ment-item",attrs:{index:"/rose"}},[t._v("涨幅中心")]),e("el-menu-item",{staticClass:"ment-item",attrs:{index:"/optional"}},[t._v("自选")])],1)],1)},b=[],g={data(){return{menu:[],activeIndex:"/test"}},methods:{handleSelect(){console.log("handleSelect")}}},m=g,v=(a("741d"),Object(l["a"])(m,f,b,!1,null,"3e0a9cc7",null)),y=v.exports,w={components:{Header:y}},k=w,x=(a("2cda"),Object(l["a"])(k,p,h,!1,null,"7d8b5038",null)),C=x.exports,O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"operation"},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getRoseList},slot:"append"})],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.roseList,border:""}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("v-chart",{staticClass:"echarts",attrs:{option:t.row.charts}})]}}])}),e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{label:"名称",prop:"name"}}),e("el-table-column",{attrs:{label:"编号",prop:"code"}}),e("el-table-column",{attrs:{label:"连涨次数",prop:"num"}})],1),e("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.page,"page-size":t.size,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.roseSizeChange,"current-change":t.roseCurrentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)},S=[],_={data(){return{keyword:"",page:0,size:10,roseList:[],total:0}},mounted(){this.getRoseList()},methods:{async getRoseList(){const t={keyword:this.keyword,page:this.page,size:this.size},{data:e}=await this.$http.get("/rose/",{params:t});console.log("result: ",e),this.total=e.total,this.roseList=e.roses.map(t=>(t.charts={xAxis:{type:"category",show:!0,axisTick:{alignWithLabel:!0},data:t.dates},yAxis:{type:"value",show:!0},series:[{data:t.prices,type:"line",barWidth:"35%",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:12}}}}}]},t))},roseSizeChange(t){this.page=1,this.size=t,this.getRoseList()},roseCurrentChange(t){this.page=t,this.getRoseList()}}},L=_,z=(a("bd08"),Object(l["a"])(L,O,S,!1,null,"40dfbbc8",null)),I=z.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"tag-code"},[e("div",{staticClass:"tag-title"},[t._v("自选股票列表")]),t._l(t.codeList,(function(a){return e("el-tag",{key:a,attrs:{closable:"","disable-transitions":!1},on:{close:function(e){return t.codeClose(a)}}},[t._v(" "+t._s(a)+" ")])})),t.codeInputVisible?e("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.codeSubmit},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur()}},model:{value:t.stockCode,callback:function(e){t.stockCode=e},expression:"stockCode"}}):e("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ New Tag")])],2),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.optionalList,border:""}},[e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{label:"code",width:"100",prop:"code"}}),e("el-table-column",{attrs:{label:"股票名称"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"},on:{show:function(e){return t.getKline(a.row.code)}}},[e("div",{staticClass:"charts"},[e("v-chart",{attrs:{option:t.echartOption}})],1),e("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(a.row.name))])])]}}])}),e("el-table-column",{attrs:{label:"换手",prop:"change"}}),e("el-table-column",{attrs:{label:"涨跌幅",prop:"extent"}}),e("el-table-column",{attrs:{label:"开盘价",prop:"opening"}}),e("el-table-column",{attrs:{label:"当前价格",prop:"transaction"}}),e("el-table-column",{attrs:{label:"涨跌百分比",prop:"percentage"}})],1)],1)},$=[],T={set(t,e){window.localStorage.setItem(t,e)},get(t){const e=window.localStorage.getItem(t);return e||""},remove(t){window.localStorage.removeItem(t)}},P={data(){return{optionalList:[],stockCode:"",codeInputVisible:!1,codeList:[],timer:"",echartOption:{}}},mounted(){this.codeList=JSON.parse(T.get("codes"))||[],this.getOptionalList(),this.setCodeInterval(),this.getKline("000001")},methods:{async getOptionalList(){if(!this.codeList.length)return this.$message.info("当前还未添加自选股票代码,请添加代码后刷新页面");const t={optionals:this.codeList.join("_")},{data:e}=await this.$http.get("/optional/",{params:t});this.optionalList=e},codeClose(t){this.codeList.splice(this.codeList.indexOf(t),1),T.set("codes",JSON.stringify(this.codeList))},async codeSubmit(){if(console.log("調用了"),6!==this.stockCode.length)return this.$message.error("请输入6位股票代码");const{data:t}=await this.$http("/check/",{params:{code:this.stockCode}});if(!t.check)return this.$message.error("请输入正确的股票代码");this.stockCode&&this.codeList.push(this.stockCode),T.set("codes",JSON.stringify(this.codeList)),this.codeInputVisible=!1,this.stockCode=""},showInput(){this.codeInputVisible=!0,this.$nextTick(t=>{this.$refs.saveTagInput.$refs.input.focus()})},setCodeInterval(){this.codeList.length&&(this.timer=setInterval(()=>{this.getOptionalList()},3e3))},async getKline(t){const e={code:t},{data:a}=await this.$http.get("/kline/",{params:e});this.echartOption={title:{show:!0,text:"K线图"},xAxis:{type:"category",show:!0,axisTick:{alignWithLabel:!0},data:a.time},yAxis:{type:"value",show:!0,scale:!0,min:Math.min.apply(null,a.price)},series:[{data:a.price,type:"line",itemStyle:{normal:{label:{show:!0,position:"top",smooth:!0,textStyle:{color:"black",fontSize:12}}}}}]},console.log("this.echartOption: ",this.echartOption)}},beforeDestroy(){console.log("beforeDestroy"),window.clearTimeout(this.timer)}},J=P,M=(a("1f56"),Object(l["a"])(J,j,$,!1,null,"717ef100",null)),R=M.exports;s["default"].use(d["a"]);const A=[{path:"/",component:C,redirect:"/rose",children:[{path:"/rose",component:I},{path:"/optional",component:R}]}],K=new d["a"]({routes:A});var N=K,V=a("2f62");s["default"].use(V["a"]);var W=new V["a"].Store({state:{},mutations:{},actions:{},modules:{}}),D=(a("0fb7"),a("450d"),a("f529")),H=a.n(D),E=(a("06f1"),a("6ac9")),q=a.n(E),B=(a("cbb5"),a("8bbc")),F=a.n(B),G=(a("672e"),a("101e")),Q=a.n(G),U=(a("10cb"),a("f3ad")),X=a.n(U),Y=(a("5466"),a("ecdf")),Z=a.n(Y),tt=(a("38a0"),a("ad41")),et=a.n(tt),at=(a("8bd8"),a("4cb2")),st=a.n(at),ot=(a("4ca3"),a("443e")),nt=a.n(ot),it=(a("de31"),a("c69e")),rt=a.n(it),lt=(a("a673"),a("7b31")),ct=a.n(lt),ut=(a("adec"),a("3d2d")),dt=a.n(ut),pt=(a("1951"),a("eedf")),ht=a.n(pt);s["default"].use(ht.a),s["default"].use(dt.a),s["default"].use(ct.a),s["default"].use(rt.a),s["default"].use(nt.a),s["default"].use(st.a),s["default"].use(et.a),s["default"].use(Z.a),s["default"].use(X.a),s["default"].use(Q.a),s["default"].use(F.a),s["default"].use(q.a),s["default"].prototype.$message=H.a;var ft=a("bc3a"),bt=a.n(ft),gt=(a("313e"),a("5c7f"));s["default"].prototype.$http=bt.a,s["default"].config.productionTip=!1,s["default"].component("v-chart",gt["a"]),new s["default"]({router:N,store:W,render:t=>t(u)}).$mount("#app")},"741d":function(t,e,a){"use strict";a("dd9c")},bd08:function(t,e,a){"use strict";a("e387")},dd9c:function(t,e,a){},e387:function(t,e,a){},fd06:function(t,e,a){}});
//# sourceMappingURL=app.ace9236b.js.map