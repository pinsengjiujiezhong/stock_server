(function(t){function e(e){for(var s,r,i=e[0],l=e[1],c=e[2],p=0,u=[];p<i.length;p++)r=i[p],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},o={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"04df":function(t,e,a){},"21f7":function(t,e,a){},"2cda":function(t,e,a){"use strict";a("fd06")},"547e":function(t,e,a){"use strict";a("04df")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],r={name:"app"},i=r,l=a("2877"),c=Object(l["a"])(i,o,n,!1,null,null,null),d=c.exports,p=a("8c4f"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("el-container",[e("el-header",[e("Header")],1),e("el-main",[e("router-view")],1)],1)],1)},h=[],f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("h1",[t._v("路鸡棍赔钱系统")]),e("el-menu",{staticClass:"menu-body",attrs:{"default-active":t.activeIndex,mode:"horizontal",router:""},on:{select:t.handleSelect}},[e("el-menu-item",{staticClass:"ment-item",attrs:{index:"/rose"}},[t._v("涨幅中心")]),e("el-menu-item",{staticClass:"ment-item",attrs:{index:"/optional"}},[t._v("自选")]),e("el-menu-item",{staticClass:"ment-item",attrs:{index:"/harden"}},[t._v("昨日涨停")])],1)],1)},g=[],b={data(){return{menu:[],activeIndex:"/test"}},methods:{handleSelect(){console.log("handleSelect")}}},m=b,y=(a("9fe9"),Object(l["a"])(m,f,g,!1,null,"6b3a15ce",null)),w=y.exports,v={components:{Header:w}},k=v,x=(a("2cda"),Object(l["a"])(k,u,h,!1,null,"7d8b5038",null)),S=x.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"operation"},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:t.getRoseList},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getRoseList.apply(null,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getRoseList},slot:"append"})],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.roseList,border:""},on:{"sort-change":t.roseSort}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("v-chart",{staticClass:"echarts",attrs:{option:t.row.charts}})]}}])}),e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{label:"名称"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-popover",{staticClass:"oz0",attrs:{placement:"top-start",trigger:"hover"},on:{show:function(e){return t.getKline(a.row.code)}}},[e("div",{staticClass:"charts"},[e("v-chart",{attrs:{option:t.echartOption}})],1),e("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(a.row.name))])])]}}])}),e("el-table-column",{attrs:{label:"现价",prop:"price"}}),e("el-table-column",{attrs:{label:"编号",prop:"code"}}),e("el-table-column",{attrs:{label:"市场",prop:"bazaar"}}),e("el-table-column",{attrs:{sortable:"custom",label:"连涨次数",prop:"num"}}),e("el-table-column",{attrs:{label:"月涨次数",sortable:"custom",prop:"monthnum"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.addOptional(a.row.code,a.row.name)}}},[t._v(" 添加自选 ")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.addOptional(a.row.code,a.row.name)}}},[t._v(" 可以想想还要什么按钮 ")])]}}])})],1),e("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.page,"page-size":t.size,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.roseSizeChange,"current-change":t.roseCurrentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)},O=[],_={set(t,e){window.localStorage.setItem(t,e)},get(t){const e=window.localStorage.getItem(t);return e||""},remove(t){window.localStorage.removeItem(t)}},C={data(){return{keyword:"",types:"num",order:"descending",page:0,size:10,roseList:[],total:0,codeList:[],echartOption:{}}},mounted(){this.codeList=JSON.parse(_.get("codes"))||[],this.getRoseList()},methods:{async getRoseList(){console.log("调用了getRoseList");const t={keyword:this.keyword,page:this.page,types:this.types,order:this.order,size:this.size};console.log("params: ",t);const{data:e}=await this.$http.get("/rose/",{params:t});console.log("result: ",e),this.total=e.total,this.roseList=e.roses.map(t=>(t.charts={xAxis:{type:"category",show:!0,axisTick:{alignWithLabel:!0},data:t.dates.reverse()},yAxis:{type:"value",show:!0,scale:!0},series:[{data:t.prices.reverse(),type:"line",barWidth:"35%",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:12}}}}}]},t.bazaar=t.ts_code.split(".")[1],t))},roseSizeChange(t){this.page=1,this.size=t,this.getRoseList()},roseCurrentChange(t){this.page=t,this.getRoseList()},addOptional(t,e){if(-1!==this.codeList.indexOf(t))return this.$message.info("当前自选已添加");this.codeList.push(t),_.set("codes",JSON.stringify(this.codeList)),this.$message.success(e+"成功添加到自选")},roseSort(t){console.log("event: ",t),this.types=t.prop,this.order=t.order,this.getRoseList()},async getKline(t){const e={code:t},{data:a}=await this.$http.get("/kline/",{params:e});this.echartOption={title:{show:!0,text:"K线图"},xAxis:{type:"category",show:!0,axisTick:{alignWithLabel:!0},data:a.time},yAxis:{type:"value",show:!0,scale:!0,min:Math.min.apply(null,a.price)},series:[{data:a.price,type:"line",itemStyle:{normal:{label:{show:!0,position:"top",smooth:!0,textStyle:{color:"black",fontSize:12}}}}}]},console.log("this.echartOption: ",this.echartOption)}}},z=C,H=(a("7a1f"),Object(l["a"])(z,L,O,!1,null,"557c50f0",null)),$=H.exports,j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"operation"},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",clearable:""},on:{clear:t.getHardenList},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getHardenList.apply(null,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getHardenList},slot:"append"})],1),e("el-switch",{attrs:{"inactive-text":"只看昨日涨停"},on:{change:t.getHardenList},model:{value:t.isShowHarden,callback:function(e){t.isShowHarden=e},expression:"isShowHarden"}})],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.hardenList,border:""},on:{"sort-change":t.HardenSort}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("v-chart",{staticClass:"echarts",attrs:{option:t.row.charts}})]}}])}),e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{label:"名称"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"},on:{show:function(e){return t.getKline(a.row.code)}}},[e("div",{staticClass:"charts"},[e("v-chart",{attrs:{option:t.echartOption}})],1),e("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(a.row.name))])])]}}])}),e("el-table-column",{attrs:{label:"现价",prop:"price"}}),e("el-table-column",{attrs:{label:"编号",prop:"code"}}),e("el-table-column",{attrs:{label:"市场",prop:"bazaar"}}),e("el-table-column",{attrs:{label:"昨日涨停"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{class:a.row.is_harden?"font-color":""},[t._v(t._s(a.row.is_harden?"是":"否"))])]}}])}),e("el-table-column",{attrs:{label:"月涨停数",sortable:"custom",prop:"monthharden"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.addOptional(a.row.code,a.row.name)}}},[t._v(" 添加自选 ")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.addOptional(a.row.code,a.row.name)}}},[t._v(" 可以想想还要什么按钮 ")])]}}])})],1),e("el-pagination",{staticClass:"pagination",attrs:{"current-page":t.page,"page-size":t.size,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.HardenSizeChange,"current-change":t.HardenCurrentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}})],1)},I=[],T={data(){return{keyword:"",order:"descending",page:0,size:10,hardenList:[],total:0,codeList:[],isShowHarden:!0,echartOption:{}}},mounted(){this.codeList=JSON.parse(_.get("codes"))||[],this.getHardenList()},methods:{async getHardenList(){console.log("调用了getHardenList");const t={keyword:this.keyword,page:this.page,harden:this.isShowHarden,order:this.order,size:this.size};console.log("params: ",t);const{data:e}=await this.$http.get("/harden/",{params:t});console.log("result: ",e),this.total=e.total,this.hardenList=e.hardens.map(t=>(t.charts={xAxis:{type:"category",show:!0,axisTick:{alignWithLabel:!0},data:t.dates.reverse()},yAxis:{type:"value",show:!0,scale:!0},series:[{data:t.prices.reverse(),type:"line",barWidth:"35%",itemStyle:{normal:{label:{show:!0,position:"top",textStyle:{color:"black",fontSize:12}}}}}]},t.bazaar=t.ts_code.split(".")[1],t))},HardenSizeChange(t){this.page=1,this.size=t,this.getHardenList()},HardenCurrentChange(t){this.page=t,this.getHardenList()},addOptional(t,e){if(-1!==this.codeList.indexOf(t))return this.$message.info("当前自选已添加");this.codeList.push(t),_.set("codes",JSON.stringify(this.codeList)),this.$message.success(e+"成功添加到自选")},HardenSort(t){console.log("event: ",t),this.types=t.prop,this.order=t.order,this.getHardenList()},async getKline(t){const e={code:t},{data:a}=await this.$http.get("/kline/",{params:e});this.echartOption={title:{show:!0,text:"K线图"},xAxis:{type:"category",show:!0,axisTick:{alignWithLabel:!0},data:a.time},yAxis:{type:"value",show:!0,scale:!0,min:Math.min.apply(null,a.price)},series:[{data:a.price,type:"line",itemStyle:{normal:{label:{show:!0,position:"top",smooth:!0,textStyle:{color:"black",fontSize:12}}}}}]},console.log("this.echartOption: ",this.echartOption)}}},A=T,K=(a("547e"),Object(l["a"])(A,j,I,!1,null,"39e1f82e",null)),J=K.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"tag-code"},[e("div",{staticClass:"tag-title"},[t._v("自选股票列表")]),t._l(t.codeList,(function(a){return e("el-tag",{key:a,attrs:{closable:"","disable-transitions":!1},on:{close:function(e){return t.codeClose(a)}}},[t._v(" "+t._s(a)+" ")])})),t.codeInputVisible?e("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:t.codeSubmit},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur()}},model:{value:t.stockCode,callback:function(e){t.stockCode=e},expression:"stockCode"}}):e("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:t.showInput}},[t._v("+ New Tag")])],2),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.optionalList,border:""}},[e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{label:"code",width:"100",prop:"code"}}),e("el-table-column",{attrs:{label:"股票名称"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-popover",{attrs:{placement:"top-start",trigger:"hover"},on:{show:function(e){return t.getKline(a.row.code)}}},[e("div",{staticClass:"charts"},[e("v-chart",{attrs:{option:t.echartOption}})],1),e("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(a.row.name))])])]}}])}),e("el-table-column",{attrs:{label:"换手",prop:"change"}}),e("el-table-column",{attrs:{label:"涨跌幅",prop:"extent"}}),e("el-table-column",{attrs:{label:"开盘价",prop:"opening"}}),e("el-table-column",{attrs:{label:"当前价格",prop:"transaction"}}),e("el-table-column",{attrs:{label:"涨跌百分比",prop:"percentage"}})],1)],1)},R=[],N={data(){return{optionalList:[],stockCode:"",codeInputVisible:!1,codeList:[],timer:"",echartOption:{}}},mounted(){this.codeList=JSON.parse(_.get("codes"))||[],this.getOptionalList(),this.setCodeInterval(),this.getKline("000001")},methods:{async getOptionalList(){if(!this.codeList.length)return this.$message.info("当前还未添加自选股票代码,请添加代码后刷新页面");const t={optionals:this.codeList.join("_")},{data:e}=await this.$http.get("/optional/",{params:t});this.optionalList=e},codeClose(t){this.codeList.splice(this.codeList.indexOf(t),1),_.set("codes",JSON.stringify(this.codeList))},async codeSubmit(){if(console.log("調用了"),6!==this.stockCode.length)return this.$message.error("请输入6位股票代码");const{data:t}=await this.$http("/check/",{params:{code:this.stockCode}});if(!t.check)return this.$message.error("请输入正确的股票代码");this.stockCode&&this.codeList.push(this.stockCode),_.set("codes",JSON.stringify(this.codeList)),this.codeInputVisible=!1,this.stockCode="",window.location.reload()},showInput(){this.codeInputVisible=!0,this.$nextTick(t=>{this.$refs.saveTagInput.$refs.input.focus()})},setCodeInterval(){this.codeList.length&&(this.timer=setInterval(()=>{this.getOptionalList()},3e3))},async getKline(t){const e={code:t},{data:a}=await this.$http.get("/kline/",{params:e});this.echartOption={title:{show:!0,text:"K线图"},xAxis:{type:"category",show:!0,axisTick:{alignWithLabel:!0},data:a.time},yAxis:{type:"value",show:!0,scale:!0,min:Math.min.apply(null,a.price)},series:[{data:a.price,type:"line",itemStyle:{normal:{label:{show:!0,position:"top",smooth:!0,textStyle:{color:"black",fontSize:12}}}}}]},console.log("this.echartOption: ",this.echartOption)}},beforeDestroy(){console.log("beforeDestroy"),window.clearTimeout(this.timer)}},M=N,W=(a("8a60"),Object(l["a"])(M,P,R,!1,null,"670cbe7e",null)),V=W.exports;s["default"].use(p["a"]);const E=[{path:"/",component:S,redirect:"/rose",children:[{path:"/rose",component:$},{path:"/optional",component:V},{path:"/harden",component:J}]}],D=new p["a"]({routes:E});var q=D,B=a("2f62");s["default"].use(B["a"]);var F=new B["a"].Store({state:{},mutations:{},actions:{},modules:{}}),G=(a("0fb7"),a("450d"),a("f529")),Q=a.n(G),U=(a("e960"),a("b35b")),X=a.n(U),Y=(a("06f1"),a("6ac9")),Z=a.n(Y),tt=(a("cbb5"),a("8bbc")),et=a.n(tt),at=(a("672e"),a("101e")),st=a.n(at),ot=(a("10cb"),a("f3ad")),nt=a.n(ot),rt=(a("5466"),a("ecdf")),it=a.n(rt),lt=(a("38a0"),a("ad41")),ct=a.n(lt),dt=(a("8bd8"),a("4cb2")),pt=a.n(dt),ut=(a("4ca3"),a("443e")),ht=a.n(ut),ft=(a("de31"),a("c69e")),gt=a.n(ft),bt=(a("a673"),a("7b31")),mt=a.n(bt),yt=(a("adec"),a("3d2d")),wt=a.n(yt),vt=(a("1951"),a("eedf")),kt=a.n(vt);s["default"].use(kt.a),s["default"].use(wt.a),s["default"].use(mt.a),s["default"].use(gt.a),s["default"].use(ht.a),s["default"].use(pt.a),s["default"].use(ct.a),s["default"].use(it.a),s["default"].use(nt.a),s["default"].use(st.a),s["default"].use(et.a),s["default"].use(Z.a),s["default"].use(X.a),s["default"].prototype.$message=Q.a;var xt=a("bc3a"),St=a.n(xt),Lt=(a("313e"),a("5c7f"));a("b059");s["default"].prototype.$http=St.a,s["default"].config.productionTip=!1,s["default"].component("v-chart",Lt["a"]),new s["default"]({router:q,store:F,render:t=>t(d)}).$mount("#app")},"7a1f":function(t,e,a){"use strict";a("db40")},"8a60":function(t,e,a){"use strict";a("21f7")},"9fe9":function(t,e,a){"use strict";a("da80")},b059:function(t,e,a){},da80:function(t,e,a){},db40:function(t,e,a){},fd06:function(t,e,a){}});
//# sourceMappingURL=app.d962af29.js.map